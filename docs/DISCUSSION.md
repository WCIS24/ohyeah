# 讨论

## 1) 多步检索的收益与限制
多步检索在 complex dev 上未显著提升 Recall@10，但通过门控与合并策略避免了退化。当前的 gap 检测与 query refiner 偏规则化，**对实体拆分与对齐**仍不够稳定，导致多步检索在部分复杂查询中仅重复或轻度改写查询。

## 2) 计算器的可控性与覆盖率
数值抽取与计算模块在未充分校准前，容易出现“算得更多但算错更多”。因此 Step6 中使用 gate 将计算任务类型暂时关闭，保证 numeric 指标不回退。后续工作需要：
- 引入更鲁棒的单位与实体对齐
- 更细粒度的置信度打分
- 限定任务类型并改进 query-based 计算任务识别

## 3) 误差来源
错误分析显示，复杂查询中主要问题集中在：
- gap 识别不足（无法稳定抽取比较对象）
- 合并策略未显著改善证据排序
数值问题中主要问题集中在：
- 结构化事实不足（缺年份或单位）
- 计算门控触发率过低

## 4) 可扩展方向
- 引入更强的 dense retriever 与领域适配（如金融领域预训练）
- 使用轻量化的 query rewriting 或规则图谱进行更精准的 gap 解析
- 扩展计算器支持更多指标、单位与财务结构
