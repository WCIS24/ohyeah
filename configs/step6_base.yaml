output_dir: outputs

data:
  processed_dir: data/processed
  corpus_dir: data/corpus
  corpus_file: chunks.jsonl
  splits:
    train: train.jsonl
    dev: dev.jsonl
    test: test.jsonl

chunking:
  chunk_size: 200
  overlap: 50

retriever:
  mode: dense
  top_k: 5
  top_k_each_step: 5
  dense:
    enabled: true
    model_name_or_path: sentence-transformers/all-MiniLM-L6-v2
  hybrid:
    enabled: true
    alpha: 0.5
  index:
    use_faiss: false
    faiss_type: flatip
    brute_force_fallback: true

multistep:
  enabled: false
  max_steps: 3
  top_k_each_step: 5
  novelty_threshold: 0.3
  stop_no_new_steps: 2
  merge_strategy: maxscore
  gate:
    enabled: true
    min_gap_conf: 0.3
    allow_types: [YEAR, COMPARE]

calculator:
  enabled: false
  gate:
    enabled: true
    min_conf: 0.4
    require_unit_consistency: true
    require_year_match: true
    allow_inferred: false
    allow_task_types: [yoy, diff]
  parsing:
    rounding: 4
    thousand_sep: ","
    unit_map:
      billion: 1000000000
      million: 1000000
      thousand: 1000
      k: 1000
      m: 1000000
      b: 1000000000
    output_percent: true

eval:
  k_list: [1, 5, 10]
  subsets:
    complex_path: data/subsets/dev_complex_qids.txt
    numeric_path: data/subsets/dev_numeric_qids.txt
  numeric:
    tolerance: 4
    rel_eps: 1e-9
    normalize_percent_mode: auto

runtime:
  seed: 42
  max_samples: null
  num_workers: 1
  device: null
